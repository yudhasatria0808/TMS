@using tms_mka_v2.Models;
@model tms_mka_v2.Models.AdminUangJalan
@{
    int idxRute = Model.ModelListTambahanRute.Count();
    int idxLain = Model.ModelListTambahanLain.Count();
    int idxPotongan = Model.ModelListPotonganLain.Count();
}
<div class="row">
    <div class="col-md-4">
        <div class="form-group">
            <div class="col-md-12">
                @Html.TextBox("bor0", Model.ModelListBorongan[0].NamaDataBorongan, new { @class = "form-control input-sm", @readonly = true })
            </div>
        </div>
        <div id="CountainerBorongan">
            @for (int i = 0; i <= Model.ModelListBorongan.Count() - 1; i++)
            {
            if (i == 0)
            {

            }
            else
            {
            <div class="form-group">
                <div class="col-md-12">
                    @Html.TextBox("bor"+i, Model.ModelListBorongan[i].NamaDataBorongan, new { @class = "form-control input-sm", @readonly = true })
                </div>
            </div>

            }
            }
        </div>
        <div class="form-group">
            <label class="control-label col-md-5"> Harga Borongan</label>
            <div class="col-md-7">
                @Html.TextBox("nilbor", Model.NilaiBorongan, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-5"> Kawalan</label>
            <div class="col-md-7">
                @Html.TextBox("kwln", Model.Kawalan, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-5"> Timbangan</label>
            <div class="col-md-7">
                @Html.TextBox("tmbgn",Model.Timbangan, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-5"> Karantina</label>
            <div class="col-md-7">
                @Html.TextBox("krnt",Model.Karantina, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-5"> SPSI</label>
            <div class="col-md-7">
                @Html.TextBox("spsiview",Model.SPSI, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-5"> Multidrop</label>
            <div class="col-md-7">
                @Html.TextBox("md", Model.Multidrop, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-5"> Tambahan Rute muat</label>
        </div>
        <div id="tambahanRute">
            @for (int i = 0; i <= Model.ModelListTambahanRute.Count() - 1; i++)
            {
            <div class="form-group">
                <div class="col-md-5">
                    @Html.TextBox("rut"+i,Model.ModelListTambahanRute[i].NamaDataBorongan, new { @class = "form-control input-sm", @readonly = true })
                </div>
                <div class="col-md-7">
                    @Html.TextBox("rutval"+i, Model.ModelListTambahanRute[i].value, new { @class = "form-control-numeric-idr", @readonly = true })
                </div>
            </div>
            }
        </div>
        <div class="form-group">
            <label class="control-label col-md-5"> Tambahan Rute lain</label>
        </div>
        <div id="tambahanLain">
            @for (int i = 0; i <= Model.ModelListTambahanLain.Count() - 1; i++)
            {
            <div class="form-group">
                <div class="col-md-5">
                    @Html.TextBox("tmbhn"+i, Model.ModelListTambahanLain[i].Keterangan, new { @class = "form-control input-sm", @readonly = true })
                </div>
                <div class="col-md-7">
                    @Html.TextBox("valtmbh"+i, Model.ModelListTambahanLain[i].Value, new { @class = "form-control-numeric-idr", @readonly = true })
                </div>
            </div>
            }
        </div>
        <hr />
        <div class="form-group">
            <label class="control-label col-md-5"> Total Borongan</label>
            <div class="col-md-7">
                @Html.TextBox("totalbor",Model.TotalBorongan, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
        <br />
        <div class="form-group">
            <div class="col-md-12">
                <label class="control-label"> Keterangan Admin</label>
                @Html.TextAreaFor(model => model.KeteranganAdmin, new { @class = "form-control input-sm", @style="height: 210px" })
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="form-group">
            <label class="control-label col-md-4"> Driver 1</label>
            <div class="col-md-6">
                @Html.TextBox("drvr1",Model.NamaDriver1, new { @class = "form-control input-sm", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-4"> Sebelumnya</label>
            <div class="col-md-6">
                @Html.TextBox("olddrvr1",Model.NamaDriverOld1, new { @class = "form-control input-sm", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-12">
                <label class="control-label"> Keterangan Penggantian</label>
                @Html.TextArea("ketdrvr1",Model.KeteranganGanti1, new { @class = "form-control input-sm", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-4"> Driver 2</label>
            <div class="col-md-6">
                @Html.TextBox("drvr2",Model.NamaDriver2, new { @class = "form-control input-sm", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-4"> Sebelumnya</label>
            <div class="col-md-6">
                @Html.TextBox("olddrvr2", Model.NamaDriverOld2, new { @class = "form-control input-sm", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-12">
                <label class="control-label"> Keterangan Penggantian</label>
                @Html.TextArea("ketdrvr2",Model.KeteranganGanti2, new { @class = "form-control input-sm", @readonly = true })
            </div>
        </div>
        <br />
        <div class="form-group" hidden>
            <label class="control-label col-md-4"> Total Potongan</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.TotalKasbon, new { @class = "form-control-numeric-idr", @readonly = true, @value = ViewBag.TotalKasbon })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-4"> &nbsp;&nbsp;&nbsp;&nbsp; Potongan Driver</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.KasbonDriver1, new { @class = "form-control-numeric-idr", @readonly = true})
            </div>
            <div class="col-md-1" hidden>
                <button type="button" class="btn btn-sm" data-toggle="modal" data-target="#ModalPiutangDriver" onclick="caller = 1;">Detail</button>
            </div>
        </div>
        <div class="form-group" hidden>
            <label class="control-label col-md-4"> &nbsp;&nbsp;&nbsp;&nbsp; Tabungan Driver 2</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.KasbonDriver2, new { @class = "form-control-numeric-idr"})
            </div>
        </div>
        <div class="form-group" hidden>
            <label class="control-label col-md-4"> Total Klaim</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.TotalKlaim, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
            <div class="col-md-1">
                <button type="button" class="btn btn-sm">Detail</button>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-4"> &nbsp;&nbsp;&nbsp;&nbsp; Kasbon Batal Jalan</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.PotonganB, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-4"> &nbsp;&nbsp;&nbsp;&nbsp; Kasbon Pribadi</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.PotonganP, new { @class = "form-control-numeric-idr", @readonly = true  })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-4"> &nbsp;&nbsp;&nbsp;&nbsp; Klaim</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.PotonganK, new { @class = "form-control-numeric-idr", @readonly = true  })
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-md-4"> &nbsp;&nbsp;&nbsp;&nbsp; Tabungan Driver</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.PotonganT, new { @class = "form-control-numeric-idr", @readonly = true  })
            </div>
            <div class="col-md-6" hidden>
                @Html.TextBoxFor(model => model.KlaimDriver1, new { @class = "form-control-numeric-idr" })
            </div>
        </div>
        <div class="form-group" hidden>
            <label class="control-label col-md-4"> &nbsp;&nbsp;&nbsp;&nbsp; Klaim Driver 2</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.KlaimDriver2, new { @class = "form-control-numeric-idr" })
            </div>
        </div>
        <div class="form-group" hidden>
            <label class="control-label col-md-4"> Potongan Lain Driver 1</label>
            <div class="col-md-6">
                <button type="button" class="btn btn-sm" onclick="AddPotonganLain1()">Add</button>
            </div>
        </div>
        <div id="potonganDriver1" class="form-group" hidden>
            @for (int i = 0; i <= Model.ModelListPotonganLain.Count() - 1; i++)
            {
            if (Model.ModelListPotonganLain[i].TypeDriver == 1)
            {
            var cls = "potonganLain1" + i;
            <div id="@cls" class="form-group">
                <div class="col-md-4">
                    @Html.HiddenFor(model => model.ModelListPotonganLain[i].IsDelete)
                    @Html.HiddenFor(model => model.ModelListPotonganLain[i].TypeDriver)
                    @Html.TextBoxFor(model => model.ModelListPotonganLain[i].Keterangan, new { @class = "form-control input-sm" })
                    @Html.ValidationMessageFor(model => model.ModelListPotonganLain[i].Keterangan)
                </div>
                <div class="col-md-6">
                    @Html.TextBoxFor(model => model.ModelListPotonganLain[i].Value, new { @class = "valPotonganDriver1" + i })
                    @Html.ValidationMessageFor(model => model.ModelListPotonganLain[i].Value)
                </div>
                <div class="col-md-2">
                    <a class="btn btn-sm btn-circle btn-icon-only red" href="javascript:;" onclick="deletePotonganLain1(@i)"><i class="fa fa-minus"></i></a>
                </div>
            </div>
            }
            }
        </div>
        <div class="form-group" hidden>
            <label class="control-label col-md-4"> Potongan Lain Driver 2</label>
        </div>
        <div id="potonganDriver2" class="form-group" hidden>
            @for (int i = 0; i <= Model.ModelListPotonganLain.Count() - 1; i++)
            {
            if (Model.ModelListPotonganLain[i].TypeDriver == 2)
            {
            <div class="form-group">
                <div class="col-md-4">
                    @Html.TextBox("ketpotdrvr2" + i, Model.ModelListPotonganLain[i].Keterangan, new { @class = "form-control input-sm", @readonly = true })
                </div>
                <div class="col-md-6">
                    @Html.TextBox("valpotdrvr2" + i, Model.ModelListPotonganLain[i].Value, new { @class = "form-control-numeric-idr", @readonly = true })
                </div>
            </div>
            }
            }
        </div>
        <hr />
        <div class="form-group" hidden>
            <label class="control-label col-md-4"> Total</label>
            <div class="col-md-6">
                @Html.TextBoxFor(model => model.TotalPotonganDriver, new { @class = "form-control-numeric-idr", @readonly = true })
            </div>
        </div>
    </div>
    <div class="col-md-4">
        <div class="form-group">
            <div class="col-md-12">
                <label>Voucher Solar</label>
                <div id="gridSolar"></div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-12">
                <label>Voucher Kapal</label>
                <div id="gridKapal"></div>
            </div>
        </div>
        <div class="form-group">
            <div class="col-md-12">
                <label>Uang</label>
                <div id="gridUang"></div>
            </div>
        </div>
    </div>
</div>
@*Modal Driver*@
<div id="ModalMasterDriver" class="modal fade bs-modal-full" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-full">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
            </div>
            <div class="modal-body">
                <div id="GridMasterDriver"></div>
            </div>
        </div>
    </div>
</div>

<div id="ModalHistoryBatal" class="modal fade bs-modal-full" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-full">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
            </div>
            <div class="modal-body">
                <div id="GridHistoryBatal"></div>
            </div>
        </div>
    </div>
</div>
<div id="ModalPiutangDriver" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-full">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
            </div>
            <div class="modal-body">
                <div id="gridPiutang">
                </div>
            </div>
            <div class="modal-body" hidden>
                <div class="form-group">
                    <label class="control-label col-md-3">JENIS PIUTANG</label>
                    <div class="col-md-3">SALDO</div>
                    <div class="col-md-3">POTONGAN</div>
                    <div class="col-md-3">SISA SALDO</div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-3">KASBON BATAL JALAN</label>
                    <div class="col-md-3">
                        <input type="text" readonly="readonly" class="form-control-numeric-idr" value="@ViewBag.PiutangBatalJalan" id="SaldoB" />
                    </div>
                    <div class="col-md-3">
                        <input type="text" readonly="readonly" class="form-control-numeric-idr" value="@ViewBag.PiutangBatalJalan" id="SisaSaldoB" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-3">KASBON PRIBADI</label>
                    <div class="col-md-3">
                        <input type="text" readonly="readonly" class="form-control-numeric-idr" value="@ViewBag.PiutangPribadi" id="SaldoP" />
                    </div>
                    <div class="col-md-3">
                        <input type="text" readonly="readonly" class="form-control-numeric-idr" value="@ViewBag.PiutangPribadi" id="SisaSaldoP" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-3">KLAIM</label>
                    <div class="col-md-3">
                        <input type="text" readonly="readonly" class="form-control-numeric-idr" value="@ViewBag.TotalKlaim" id="SaldoK" />
                    </div>
                    <div class="col-md-3">
                        <input type="text" readonly="readonly" class="form-control-numeric-idr" value="@ViewBag.TotalKlaim" id="SisaSaldoK" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="control-label col-md-3">TABUNGAN DRIVER</label>
                    <div class="col-md-3">
                        <input type="text" readonly="readonly" class="form-control-numeric-idr" value="@ViewBag.PiutangTabungan" id="SaldoT" />
                    </div>
                    <div class="col-md-3">
                        <input type="text" readonly="readonly" class="form-control-numeric-idr" value="@ViewBag.Tabungan" id="SisaSaldoT" />
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
